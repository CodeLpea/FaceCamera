{"version":3,"sources":["webpack:///src/pages/others/AreaAdjusting.vue","webpack:///./src/pages/others/AreaAdjusting.vue?4c8f","webpack:///./src/pages/others/AreaAdjusting.vue"],"names":["AreaAdjusting","name","data","loading","areaInfo","person_path","area","line_down","line_left","line_right","line_up","moveActive","created","this","genImage","methods","extends_default","Object","vuex_esm","photoPreview","getValidArea","setValidArea","moveX","x","moveY","y","saveImage","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","t0","stop","_this2","_callee2","_ref","_ref2","_context2","sent","t1","others_AreaAdjusting","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","staticClass","attrs","label-position","label-width","model","_v","label","src","slot","class","active","style","top","left","type","on","click","$event","disable","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.dbaee9441edd1850f4e4.js","sourcesContent":["<template>\n  <el-form\n    class=\"ling-area-adjusting\"\n    label-position=\"right\"\n    label-width=\"120px\"\n    v-loading=\"loading\"\n    :model=\"areaInfo\">\n    <p class=\"tips\">在四条线段中间的区域才为有效区域，其他区域中的人脸信息，不纳入为温度探测范围。</p>\n    <el-form-item label=\"人脸图片：\">\n      <div class=\"item\">\n        <div class=\"person\">\n          <el-image class=\"image\" :src=\"areaInfo.person_path\">\n            <div slot=\"placeholder\" class=\"image-slot\">\n              加载中<span class=\"dot\">...</span>\n            </div>\n          </el-image>\n          <div class=\"line up\" :class=\"{active: moveActive === 1}\" :style=\"{top: area.line_up + 'px', left: 0}\"></div>\n          <div class=\"line down\" :class=\"{active: moveActive === 3}\" :style=\"{top: area.line_down + 'px', left: 0}\"></div>\n          <div class=\"line left\" :class=\"{active: moveActive === 4}\" :style=\"{top: 0, left: area.line_left + 'px'}\"></div>\n          <div class=\"line right\" :class=\"{active: moveActive === 2}\" :style=\"{top: 0, left: area.line_right + 'px'}\"></div>\n        </div>\n        <div class=\"button\">\n          <el-button type=\"primary\" @click=\"moveActive = 1\">上线条</el-button>\n          <el-button type=\"primary\" @click=\"moveActive = 2\">右线条</el-button>\n          <el-button type=\"primary\" @click=\"moveActive = 3\">下线条</el-button>\n          <el-button type=\"primary\" @click=\"moveActive = 4\">左线条</el-button>\n\n          <div class=\"arrow\">\n            <i class=\"el-icon-caret-left\" :class=\"{disable: moveActive !== 2 && moveActive !== 4}\" @click=\"moveX(-1)\"></i>\n            <div class=\"center\">\n              <i class=\"el-icon-caret-top\" :class=\"{disable: moveActive !== 1 && moveActive !== 3}\" @click=\"moveY(-1)\"></i>\n              <i class=\"el-icon-caret-bottom\" :class=\"{disable: moveActive !== 1 && moveActive !== 3}\" @click=\"moveY(1)\"></i>\n            </div>\n            <i class=\"el-icon-caret-right\" :class=\"{disable: moveActive !== 2 && moveActive !== 4}\" @click=\"moveX(1)\"></i>\n          </div>\n        </div>\n      </div>\n    </el-form-item>\n    <el-form-item>\n      <el-button type=\"primary\" @click=\"genImage\">预览</el-button>\n      <el-button type=\"primary\" @click=\"saveImage\">校准</el-button>\n    </el-form-item>\n  </el-form>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\n\nexport default {\n  name: 'LingAreaAdjusting',\n  data () {\n    return {\n      loading: false,\n      areaInfo: {\n        person_path: ''\n      },\n      area: {\n        'line_down': 0,\n        'line_left': 0,\n        'line_right': 0,\n        'line_up': 0\n      },\n      moveActive: 0\n    }\n  },\n  created () {\n    this.genImage()\n  },\n  methods: {\n    ...mapActions({\n      photoPreview: 'photoPreview',\n      getValidArea: 'getValidArea',\n      setValidArea: 'setValidArea'\n    }),\n    moveX (x) {\n      if (this.moveActive === 2) {\n        this.area.line_right += x\n      }\n      if (this.moveActive === 4) {\n        this.area.line_left += x\n      }\n    },\n    moveY (y) {\n      if (this.moveActive === 1) {\n        this.area.line_up += y\n      }\n      if (this.moveActive === 3) {\n        this.area.line_down += y\n      }\n    },\n    async saveImage () {\n      this.loading = true\n      try {\n        await this.setValidArea(this.area)\n      } catch (res) {}\n\n      this.loading = false\n    },\n    async genImage () {\n      this.loading = true\n      try {\n        const { data } = await this.photoPreview()\n        this.areaInfo = data\n      } catch (res) {}\n\n      try {\n        const { data: area } = await this.getValidArea()\n        this.area.line_down = +area.line_down\n        this.area.line_left = +area.line_left\n        this.area.line_right = +area.line_right\n        this.area.line_up = +area.line_up\n      } catch (res) {}\n\n      this.loading = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.ling-area-adjusting {\n  .item {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n  }\n  .person {\n    position: relative;\n    width: 480px;\n    height: 640px;\n    .image {\n      width: 480px;\n      height: 640px;\n    }\n    .line {\n      position: absolute;\n      background: red;\n    }\n    .active {\n      background: blue;\n    }\n    .up,\n    .down {\n      height: 1px;\n      width: 100%;\n    }\n    .left,\n    .right {\n      width: 1px;\n      height: 100%;\n    }\n  }\n  .button {\n    margin-left: 15px;\n    .arrow {\n      margin-top: 20px;\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n      align-items: center;\n      font-size: 30px;\n      color: blue;\n      .center {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n        align-items: center;\n      }\n    }\n    .disable {\n      color: gray;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/others/AreaAdjusting.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"ling-area-adjusting\",attrs:{\"label-position\":\"right\",\"label-width\":\"120px\",\"model\":_vm.areaInfo}},[_c('p',{staticClass:\"tips\"},[_vm._v(\"在四条线段中间的区域才为有效区域，其他区域中的人脸信息，不纳入为温度探测范围。\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"人脸图片：\"}},[_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"person\"},[_c('el-image',{staticClass:\"image\",attrs:{\"src\":_vm.areaInfo.person_path}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_vm._v(\"\\n            加载中\"),_c('span',{staticClass:\"dot\"},[_vm._v(\"...\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"line up\",class:{active: _vm.moveActive === 1},style:({top: _vm.area.line_up + 'px', left: 0})}),_vm._v(\" \"),_c('div',{staticClass:\"line down\",class:{active: _vm.moveActive === 3},style:({top: _vm.area.line_down + 'px', left: 0})}),_vm._v(\" \"),_c('div',{staticClass:\"line left\",class:{active: _vm.moveActive === 4},style:({top: 0, left: _vm.area.line_left + 'px'})}),_vm._v(\" \"),_c('div',{staticClass:\"line right\",class:{active: _vm.moveActive === 2},style:({top: 0, left: _vm.area.line_right + 'px'})})],1),_vm._v(\" \"),_c('div',{staticClass:\"button\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.moveActive = 1}}},[_vm._v(\"上线条\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.moveActive = 2}}},[_vm._v(\"右线条\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.moveActive = 3}}},[_vm._v(\"下线条\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.moveActive = 4}}},[_vm._v(\"左线条\")]),_vm._v(\" \"),_c('div',{staticClass:\"arrow\"},[_c('i',{staticClass:\"el-icon-caret-left\",class:{disable: _vm.moveActive !== 2 && _vm.moveActive !== 4},on:{\"click\":function($event){return _vm.moveX(-1)}}}),_vm._v(\" \"),_c('div',{staticClass:\"center\"},[_c('i',{staticClass:\"el-icon-caret-top\",class:{disable: _vm.moveActive !== 1 && _vm.moveActive !== 3},on:{\"click\":function($event){return _vm.moveY(-1)}}}),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\",class:{disable: _vm.moveActive !== 1 && _vm.moveActive !== 3},on:{\"click\":function($event){return _vm.moveY(1)}}})]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-caret-right\",class:{disable: _vm.moveActive !== 2 && _vm.moveActive !== 4},on:{\"click\":function($event){return _vm.moveX(1)}}})])],1)])]),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.genImage}},[_vm._v(\"预览\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveImage}},[_vm._v(\"校准\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8baa3096\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/others/AreaAdjusting.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8baa3096\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AreaAdjusting.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AreaAdjusting.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AreaAdjusting.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8baa3096\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AreaAdjusting.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/others/AreaAdjusting.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}