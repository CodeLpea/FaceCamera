{"version":3,"sources":["webpack:///src/pages/others/FaceAdjusting.vue","webpack:///./src/pages/others/FaceAdjusting.vue?4d69","webpack:///./src/pages/others/FaceAdjusting.vue"],"names":["FaceAdjusting","name","data","loading","faceInfo","person_path","temper_path","temp","move_x","move_y","scale","computed","getPerson","left","this","loaction_x_1","top","loaction_y_1","width","loaction_x_3","height","loaction_y_3","getTemper","transform","-ms-transform","-moz-transform","-webkit-transform","-o-transform","created","genImage","methods","extends_default","Object","vuex_esm","photoPreview","tempLocation","moveX","x","moveY","y","handleScale","adjusting","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","t0","stop","_this2","_callee2","_ref","_context2","sent","others_FaceAdjusting","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","staticClass","attrs","label-position","label-width","model","_v","label","src","slot","style","on","click","$event","type","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2MAuDAA,GACAC,KAAA,oBACAC,KAFA,WAGA,OACAC,SAAA,EACAC,UACAC,YAAA,GACAC,YAAA,IAEAC,MACAC,OAAA,EACAC,OAAA,EACAC,MAAA,KAIAC,UACAC,UADA,WAEA,OACAC,KAAAC,KAAAV,SAAAW,aAAA,KACAC,IAAAF,KAAAV,SAAAa,aAAA,KACAC,MAAAJ,KAAAV,SAAAe,aAAAL,KAAAV,SAAAW,aAAA,KACAK,OAAAN,KAAAV,SAAAiB,aAAAP,KAAAV,SAAAa,aAAA,OAGAK,UATA,WAUA,OACAT,KAAAC,KAAAV,SAAAW,aAAA,EAAAD,KAAAP,KAAAC,OAAA,KACAQ,IAAAF,KAAAV,SAAAa,aAAA,EAAAH,KAAAP,KAAAE,OAAA,KACAS,OAAAJ,KAAAV,SAAAe,aAAAL,KAAAV,SAAAW,cAAA,OACAK,QAAAN,KAAAV,SAAAiB,aAAAP,KAAAV,SAAAa,cAAA,OACAM,UAAA,SAAAT,KAAAP,KAAAG,MAAA,IACAc,gBAAA,SAAAV,KAAAP,KAAAG,MAAA,IACAe,iBAAA,SAAAX,KAAAP,KAAAG,MAAA,IACAgB,oBAAA,SAAAZ,KAAAP,KAAAG,MAAA,IACAiB,eAAA,SAAAb,KAAAP,KAAAG,MAAA,OAIAkB,QAvCA,WAwCAd,KAAAe,YAEAC,QAAWC,OACXC,OAAAC,EAAA,EAAAD,EACAE,aAAA,eACAC,aAAA,kBAEAC,MALA,SAKAC,GACAvB,KAAAP,KAAAC,QAAA6B,GAEAC,MARA,SAQAC,GACAzB,KAAAP,KAAAE,QAAA8B,GAEAC,YAXA,SAWA9B,GACAI,KAAAP,KAAAG,UAEA+B,UAdA,WAcA,IAAAC,EAAA5B,KAAA,OAAA6B,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,OAAAH,EAAAC,EAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACAT,EAAAvC,SAAA,EADA8C,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGAT,EAAAP,aAAAO,EAAAnC,MAHA,OAAA0C,EAAAE,KAAA,eAAAF,EAAAC,KAAA,EAAAD,EAAAG,GAAAH,EAAA,gBAMAP,EAAAvC,SAAA,EANA,wBAAA8C,EAAAI,SAAAN,EAAAL,IAAA,SAAAC,IAQAd,SAtBA,WAsBA,IAAAyB,EAAAxC,KAAA,OAAA6B,IAAAC,EAAAC,EAAAC,KAAA,SAAAS,IAAA,IAAAC,EAAAtD,EAAA,OAAA0C,EAAAC,EAAAG,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cACAG,EAAAnD,SAAA,EADAsD,EAAAP,KAAA,EAAAO,EAAAN,KAAA,EAGAG,EAAApB,eAHA,OAAAsB,EAAAC,EAAAC,KAGAxD,EAHAsD,EAGAtD,KACAoD,EAAAlD,SAAAF,EACAoD,EAAA/C,KAAAC,QAAAN,EAAAM,OACA8C,EAAA/C,KAAAE,QAAAP,EAAAO,OACA6C,EAAA/C,KAAAG,OAAAR,EAAAQ,MAPA+C,EAAAN,KAAA,iBAAAM,EAAAP,KAAA,GAAAO,EAAAL,GAAAK,EAAA,iBAUAH,EAAAnD,SAAA,EAVA,yBAAAsD,EAAAJ,SAAAE,EAAAD,IAAA,UAAAX,OCpHegB,GADEC,OAFjB,WAA0B,IAAAC,EAAA/C,KAAagD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBE,aAAajE,KAAA,UAAAkE,QAAA,YAAAC,MAAAP,EAAA,QAAAQ,WAAA,YAA4EC,YAAA,sBAAAC,OAA2CC,iBAAA,QAAAC,cAAA,QAAAC,MAAAb,EAAAzD,YAAqE4D,EAAA,KAAUM,YAAA,SAAmBT,EAAAc,GAAA,6CAAAd,EAAAc,GAAA,KAAAX,EAAA,gBAAqFO,OAAOK,MAAA,WAAiBZ,EAAA,OAAYM,YAAA,WAAqBN,EAAA,OAAYM,YAAA,UAAoBN,EAAA,OAAYM,YAAA,mBAA6BN,EAAA,YAAiBM,YAAA,SAAAC,OAA4BM,IAAAhB,EAAAzD,SAAAE,eAAgC0D,EAAA,OAAYM,YAAA,aAAAC,OAAgCO,KAAA,eAAqBA,KAAA,gBAAoBjB,EAAAc,GAAA,uBAAAX,EAAA,QAA2CM,YAAA,QAAkBT,EAAAc,GAAA,aAAAd,EAAAc,GAAA,KAAAX,EAAA,OAA4CM,YAAA,UAAAS,MAAAlB,EAAA,YAA4CA,EAAAc,GAAA,KAAAX,EAAA,OAAwBM,YAAA,WAAqBN,EAAA,OAAYM,YAAA,UAAoBN,EAAA,KAAUM,YAAA,qBAAAU,IAAqCC,MAAA,SAAAC,GAAyB,OAAArB,EAAAzB,OAAA,OAAuByB,EAAAc,GAAA,KAAAX,EAAA,OAAwBM,YAAA,WAAqBN,EAAA,KAAUM,YAAA,oBAAAU,IAAoCC,MAAA,SAAAC,GAAyB,OAAArB,EAAAvB,OAAA,OAAuBuB,EAAAc,GAAA,KAAAX,EAAA,KAAsBM,YAAA,uBAAAU,IAAuCC,MAAA,SAAAC,GAAyB,OAAArB,EAAAvB,MAAA,SAAsBuB,EAAAc,GAAA,KAAAX,EAAA,KAAwBM,YAAA,sBAAAU,IAAsCC,MAAA,SAAAC,GAAyB,OAAArB,EAAAzB,MAAA,SAAsByB,EAAAc,GAAA,KAAAX,EAAA,OAA0BM,YAAA,UAAoBN,EAAA,KAAUM,YAAA,yBAAAU,IAAyCC,MAAA,SAAAC,GAAyB,OAAArB,EAAArB,aAAA,QAA+BqB,EAAAc,GAAA,KAAAX,EAAA,KAAsBM,YAAA,8BAAAU,IAA8CC,MAAA,SAAAC,GAAyB,OAAArB,EAAArB,YAAA,UAA8BqB,EAAAc,GAAA,KAAAX,EAAA,aAAgCM,YAAA,YAAAC,OAA+BY,KAAA,WAAiBH,IAAKC,MAAApB,EAAApB,aAAuBoB,EAAAc,GAAA,kBAAAd,EAAAc,GAAA,KAAAX,EAAA,OAAiDM,YAAA,UAAoBN,EAAA,OAAYM,YAAA,mBAA6BN,EAAA,YAAiBM,YAAA,SAAAC,OAA4BM,IAAAhB,EAAAzD,SAAAC,eAAgC2D,EAAA,OAAYM,YAAA,aAAAC,OAAgCO,KAAA,eAAqBA,KAAA,gBAAoBjB,EAAAc,GAAA,uBAAAX,EAAA,QAA2CM,YAAA,QAAkBT,EAAAc,GAAA,aAAAd,EAAAc,GAAA,KAAAX,EAAA,OAA4CM,YAAA,UAAAS,MAAAlB,EAAA,aAA4C,SAAAA,EAAAc,GAAA,KAAAX,EAAA,gBAAAA,EAAA,aAA2DO,OAAOY,KAAA,WAAiBH,IAAKC,MAAApB,EAAAhC,YAAsBgC,EAAAc,GAAA,iBAEpvES,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEvF,EACA2D,GATF,EAVA,SAAA6B,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/3.5cf7d02da07edabbb0a6.js","sourcesContent":["<template>\n  <el-form\n    class=\"ling-face-adjusting\"\n    label-position=\"right\"\n    label-width=\"120px\"\n    v-loading=\"loading\"\n    :model=\"faceInfo\">\n    <p class=\"tips\">将温度摄像头中的人脸框对准红外人脸的位置，方便获取温度数值时对应到相应的位置。</p>\n    <el-form-item label=\"图片校准：\">\n      <div class=\"images\">\n        <div class=\"image\">\n          <div class=\"temper-section\">\n            <el-image class=\"temper\" :src=\"faceInfo.temper_path\">\n              <div slot=\"placeholder\" class=\"image-slot\">\n                加载中<span class=\"dot\">...</span>\n              </div>\n            </el-image>\n            <div class=\"section\" :style=\"getTemper\"></div>\n            <div class=\"button\">\n              <div class=\"arrow\">\n                <i class=\"el-icon-caret-left\" @click=\"moveX(-1)\"></i>\n                <div class=\"center\">\n                  <i class=\"el-icon-caret-top\" @click=\"moveY(-1)\"></i>\n                  <i class=\"el-icon-caret-bottom\" @click=\"moveY(1)\"></i>\n                </div>\n                <i class=\"el-icon-caret-right\" @click=\"moveX(1)\"></i>\n              </div>\n              <div class=\"scale\">\n                <i class=\"el-icon-remove-outline\" @click=\"handleScale(-0.1)\"></i>\n                <i class=\"el-icon-circle-plus-outline\" @click=\"handleScale(0.1)\"></i>\n              </div>\n              <el-button class=\"adjusting\" type=\"primary\" @click=\"adjusting\">校准</el-button>\n            </div>\n          </div>\n        </div>\n        <div class=\"image\">\n          <div class=\"person-section\">\n            <el-image class=\"person\" :src=\"faceInfo.person_path\">\n              <div slot=\"placeholder\" class=\"image-slot\">\n                加载中<span class=\"dot\">...</span>\n              </div>\n            </el-image>\n            <div class=\"section\" :style=\"getPerson\"></div>\n          </div>\n        </div>\n      </div>\n    </el-form-item>\n    <el-form-item>\n      <el-button type=\"primary\" @click=\"genImage\">预览</el-button>\n    </el-form-item>\n  </el-form>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nexport default {\n  name: 'LingFaceAdjusting',\n  data () {\n    return {\n      loading: false,\n      faceInfo: {\n        person_path: '',\n        temper_path: ''\n      },\n      temp: {\n        move_x: 0,\n        move_y: 0,\n        scale: 1\n      }\n    }\n  },\n  computed: {\n    getPerson () {\n      return {\n        left: this.faceInfo.loaction_x_1 + 'px',\n        top: this.faceInfo.loaction_y_1 + 'px',\n        width: (this.faceInfo.loaction_x_3 - this.faceInfo.loaction_x_1) + 'px',\n        height: (this.faceInfo.loaction_y_3 - this.faceInfo.loaction_y_1) + 'px'\n      }\n    },\n    getTemper () {\n      return {\n        left: (this.faceInfo.loaction_x_1 / 4 + this.temp.move_x) + 'px',\n        top: (this.faceInfo.loaction_y_1 / 4 + this.temp.move_y) + 'px',\n        width: (this.faceInfo.loaction_x_3 - this.faceInfo.loaction_x_1) / 4 + 'px',\n        height: (this.faceInfo.loaction_y_3 - this.faceInfo.loaction_y_1) / 4 + 'px',\n        transform: `scale(${this.temp.scale})`,\n        '-ms-transform': `scale(${this.temp.scale})`,\n        '-moz-transform': `scale(${this.temp.scale})`,\n        '-webkit-transform': `scale(${this.temp.scale})`,\n        '-o-transform': `scale(${this.temp.scale})`\n      }\n    }\n  },\n  created () {\n    this.genImage()\n  },\n  methods: {\n    ...mapActions({\n      photoPreview: 'photoPreview',\n      tempLocation: 'tempLocation'\n    }),\n    moveX (x) {\n      this.temp.move_x += x\n    },\n    moveY (y) {\n      this.temp.move_y += y\n    },\n    handleScale (scale) {\n      this.temp.scale += scale\n    },\n    async adjusting () {\n      this.loading = true\n      try {\n        await this.tempLocation(this.temp)\n      } catch (res) {}\n\n      this.loading = false\n    },\n    async genImage () {\n      this.loading = true\n      try {\n        const { data } = await this.photoPreview()\n        this.faceInfo = data\n        this.temp.move_x = +data.move_x\n        this.temp.move_y = +data.move_y\n        this.temp.scale = +data.scale\n      } catch (res) {}\n\n      this.loading = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.ling-face-adjusting {\n  .images {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n    .image {\n      flex: 1;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      .temper {\n        width: 120px;\n        height: 160px;\n      }\n      .person {\n        width: 480px;\n        height: 640px;\n      }\n      .person-section {\n        position: relative;\n        width: 480px;\n        height: 640px;\n      }\n      .temper-section {\n        position: relative;\n        width: 120px;\n        height: 160px;\n      }\n      .section {\n        position: absolute;\n        border: 1px solid red;\n      }\n      .button {\n        font-weight: bold;\n        text-align: center;\n        .arrow {\n          display: flex;\n          flex-direction: row;\n          justify-content: center;\n          align-items: center;\n          font-size: 28px;\n          .center {\n            display: flex;\n            flex-direction: column;\n            justify-content: space-around;\n            align-items: center;\n          }\n        }\n        .scale {\n          margin-top: 10px;\n          display: flex;\n          justify-content: space-around;\n          align-items: center;\n          font-size: 26px;\n        }\n        .adjusting {\n          margin-top: 20px;\n        }\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/others/FaceAdjusting.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"ling-face-adjusting\",attrs:{\"label-position\":\"right\",\"label-width\":\"120px\",\"model\":_vm.faceInfo}},[_c('p',{staticClass:\"tips\"},[_vm._v(\"将温度摄像头中的人脸框对准红外人脸的位置，方便获取温度数值时对应到相应的位置。\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"图片校准：\"}},[_c('div',{staticClass:\"images\"},[_c('div',{staticClass:\"image\"},[_c('div',{staticClass:\"temper-section\"},[_c('el-image',{staticClass:\"temper\",attrs:{\"src\":_vm.faceInfo.temper_path}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_vm._v(\"\\n              加载中\"),_c('span',{staticClass:\"dot\"},[_vm._v(\"...\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"section\",style:(_vm.getTemper)}),_vm._v(\" \"),_c('div',{staticClass:\"button\"},[_c('div',{staticClass:\"arrow\"},[_c('i',{staticClass:\"el-icon-caret-left\",on:{\"click\":function($event){return _vm.moveX(-1)}}}),_vm._v(\" \"),_c('div',{staticClass:\"center\"},[_c('i',{staticClass:\"el-icon-caret-top\",on:{\"click\":function($event){return _vm.moveY(-1)}}}),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\",on:{\"click\":function($event){return _vm.moveY(1)}}})]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-caret-right\",on:{\"click\":function($event){return _vm.moveX(1)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"scale\"},[_c('i',{staticClass:\"el-icon-remove-outline\",on:{\"click\":function($event){return _vm.handleScale(-0.1)}}}),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-circle-plus-outline\",on:{\"click\":function($event){return _vm.handleScale(0.1)}}})]),_vm._v(\" \"),_c('el-button',{staticClass:\"adjusting\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.adjusting}},[_vm._v(\"校准\")])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"image\"},[_c('div',{staticClass:\"person-section\"},[_c('el-image',{staticClass:\"person\",attrs:{\"src\":_vm.faceInfo.person_path}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_vm._v(\"\\n              加载中\"),_c('span',{staticClass:\"dot\"},[_vm._v(\"...\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"section\",style:(_vm.getPerson)})],1)])])]),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.genImage}},[_vm._v(\"预览\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cd88d3a2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/others/FaceAdjusting.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cd88d3a2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FaceAdjusting.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FaceAdjusting.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FaceAdjusting.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cd88d3a2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FaceAdjusting.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/others/FaceAdjusting.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}